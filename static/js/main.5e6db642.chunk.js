(this["webpackJsonpspacex-app"]=this["webpackJsonpspacex-app"]||[]).push([[0],{12:function(e,t,a){e.exports={description:"styles_description__Ukzwf",description__image:"styles_description__image__3JJCi",description__text:"styles_description__text__EuenN",description__title:"styles_description__title__1JkKC",description__about:"styles_description__about__3e3Io",likeButton:"styles_likeButton__22pox",likeButtonHovered:"styles_likeButtonHovered__37fRi",rocketList:"styles_rocketList__32pEv",rocketList__item:"styles_rocketList__item__mHy7l",rocketList__info:"styles_rocketList__info__2I31j",rocketList__button:"styles_rocketList__button__1zvpu",rocketList__image:"styles_rocketList__image__2AjGo",rocketList__details:"styles_rocketList__details__jZ7yI",success:"styles_success__2Oerp",failure:"styles_failure__1xlyG",goBackButton:"styles_goBackButton__3ZcaN"}},16:function(e,t,a){e.exports={item:"styles_item__2gbNs",body:"styles_body__Mxtxv",title:"styles_title___w0Jz",description:"styles_description__3ZnSA",like:"styles_like__1UNUe",success:"styles_success__2xpbR",failure:"styles_failure__3xViQ",search:"styles_search__2hCyc",formControl:"styles_formControl__1Se8K"}},50:function(e,t,a){e.exports={main:"styles_main__3eJMh",list:"styles_list__2H6DH",description:"styles_description__300X1",search_wrapper:"styles_search_wrapper__39GDk",search_button:"styles_search_button__1ycr6",search_input:"styles_search_input__1TpNR",search_select:"styles_search_select__KK2w3"}},53:function(e,t,a){e.exports={header:"styles_header__D7Cd9",headerTitle:"styles_headerTitle__22Tb8"}},54:function(e,t,a){e.exports={category_wrapper:"styles_category_wrapper__2v5P8",item:"styles_item__YLZs6",like:"styles_like__5aUmW"}},65:function(e,t,a){e.exports={app:"styles_app__1VXZu"}},82:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(10),r=a.n(n),i=a(32),c=a(53),o=a.n(c),l=a(2),u=function(){return Object(l.jsx)("header",{className:o.a.header,children:Object(l.jsxs)("h1",{className:o.a.headerTitle,children:[Object(l.jsx)("i",{className:"fas fa-space-shuttle"}),"SpaceX App"]})})},d=a(25),h=a(4),j=a(17),f=a(18),_=a(14),b=a.n(_),m=a(21),p=new(function(){function e(){Object(j.a)(this,e),this.favoritesDataStore=this.loadFromLocalStorage(),Object(h.n)(this,{favoritesDataStore:h.o,addToStore:h.f.bound,deleteFromStore:h.f.bound,loadFromLocalStorage:h.f.bound,updateLocalStorage:h.f.bound})}return Object(f.a)(e,[{key:"addToStore",value:function(e){var t=Date.now();e=Object(m.a)(Object(m.a)({},e),{},{favoriteDate:t}),this.favoritesDataStore.push(e),this.updateLocalStorage()}},{key:"deleteFromStore",value:function(e){var t=this.favoritesDataStore.findIndex((function(t){return t.id===e}));this.favoritesDataStore.splice(t,1),this.updateLocalStorage()}},{key:"loadFromLocalStorage",value:function(){var e=localStorage.getItem("favorites");return e?JSON.parse(e):[]}},{key:"updateLocalStorage",value:function(){localStorage.setItem("favorites",JSON.stringify(this.favoritesDataStore))}}]),e}()),v=a(8),k=v.a.object({name:v.a.string(),id:v.a.string(),dataType:v.a.literal("Launches"),success:v.a.boolean(),flight_number:v.a.number(),links:v.a.object({webcast:v.a.string(),wikipedia:v.a.string(),patch:v.a.object({small:v.a.string()})}),rocket:v.a.string(),details:v.a.string().nullable(),isFavorite:v.a.boolean().optional(),favoriteDate:v.a.number().optional().nullable()}),O=v.a.array(k),g=v.a.object({name:v.a.string(),id:v.a.string(),flickr_images:v.a.array(v.a.string()),dataType:v.a.literal("Rockets"),description:v.a.string(),isFavorite:v.a.boolean().optional(),height:v.a.object({meters:v.a.number()}),diameter:v.a.object({meters:v.a.number()}),mass:v.a.object({kg:v.a.number()}),favoriteDate:v.a.number().optional()}),x=v.a.array(g),y=a(55),S=a(49),L=function(){function e(){Object(j.a)(this,e)}return Object(f.a)(e,[{key:"_getData",value:function(){var e=Object(S.a)(b.a.mark((function e(t){var a,s,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.path,s=t.data,n=t.config,e.prev=1,e.next=4,fetch("".concat("https://api.spacexdata.com/v4/").concat(a),Object(m.a)(Object(m.a)({},n),{},{body:JSON.stringify(s),headers:{"Content-type":"application/json"}}));case 4:return r=e.sent,e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(1),console.error("getData Error: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchRockets",value:function(){var e=Object(S.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getData({path:"rockets/query",data:{options:{limit:4}},config:{method:"POST"}});case 2:return t=e.sent,e.abrupt("return",this._transformRocketsData(t.docs));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchLaunches",value:function(){var e=Object(S.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getData({path:"launches/query",data:{options:{limit:15,page:t,pagination:!0}},config:{method:"POST"}});case 2:return a=e.sent,e.abrupt("return",this._transformLaunchesData(a.docs));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_transformLaunchesData",value:function(e){return Object(y.a)(e).map((function(e){return Object(m.a)(Object(m.a)({},e),{},{isFavorite:!1,dataType:"Launches"})}))}},{key:"_transformRocketsData",value:function(e){return Object(y.a)(e).map((function(e){return Object(m.a)(Object(m.a)({},e),{},{isFavorite:!1,dataType:"Rockets"})}))}}]),e}(),D=new L,N=new(function(){function e(){Object(j.a)(this,e),this.isLoading=!0,this.launchesDataStore=[],this.nextPage=0,this.favoritesStore=void 0,Object(h.n)(this,{launchesDataStore:h.o,isLoading:h.o,nextPage:h.o,loadLaunches:h.i.bound,updateLaunches:h.f.bound,setIsLoading:h.f.bound,addToFavorites:h.f.bound}),this.favoritesStore=p,this.loadLaunches()}return Object(f.a)(e,[{key:"updateLaunches",value:function(e){this.launchesDataStore=this.launchesDataStore.concat(e)}},{key:"setIsLoading",value:function(e){this.isLoading=e}},{key:"loadLaunches",value:b.a.mark((function e(){var t=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setIsLoading(!0),this.nextPage++,e.next=4,D.fetchLaunches(this.nextPage).then((function(e){console.log(e),t.updateLaunches(O.parse(e)),t.setIsLoading(!1)}));case 4:case"end":return e.stop()}}),e,this)}))},{key:"addToFavorites",value:function(e){var t=this.launchesDataStore.findIndex((function(t){return t.id===e}));this.favoritesStore.addToStore(this.launchesDataStore[t])}}]),e}()),I=new L,w=new(function(){function e(){Object(j.a)(this,e),this.isLoading=!0,this.rocketsDataStore=[],this.rocketItem=void 0,this.favoritesStore=void 0,Object(h.n)(this,{rocketsDataStore:h.o,isLoading:h.o,rocketItem:h.o,loadRockets:h.i.bound,updateRockets:h.f.bound,setIsLoading:h.f.bound,addToFavorites:h.f.bound,getItem:h.f.bound}),this.favoritesStore=p,this.loadRockets()}return Object(f.a)(e,[{key:"updateRockets",value:function(e){this.rocketsDataStore=e}},{key:"setIsLoading",value:function(e){this.isLoading=e}},{key:"loadRockets",value:b.a.mark((function e(){var t=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setIsLoading(!0),e.next=3,I.fetchRockets().then((function(e){t.updateRockets(x.parse(e)),t.setIsLoading(!1)}));case 3:case"end":return e.stop()}}),e,this)}))},{key:"getItem",value:function(e){this.rocketItem=this.rocketsDataStore.find((function(t){return t.id===e}))}},{key:"addToFavorites",value:function(e){var t=this.rocketsDataStore.findIndex((function(t){return t.id===e}));this.favoritesStore.addToStore(this.rocketsDataStore[t])}}]),e}()),F=new(function(){function e(){Object(j.a)(this,e),this.selectedCategory="Launches",this.selectedItemId=null,this.currentData=[],Object(h.n)(this,{selectedCategory:h.o,selectedItemId:h.o,setCategory:h.f.bound,setItemId:h.f.bound,getCurrentData:h.f.bound,currentData:h.o})}return Object(f.a)(e,[{key:"setCategory",value:function(e){this.selectedCategory=e,this.selectedItemId=null}},{key:"setItemId",value:function(e){this.selectedItemId=e}},{key:"getCurrentData",value:function(){return"Launches"===this.selectedCategory&&(this.currentData=N.launchesDataStore),"Rockets"===this.selectedCategory&&(this.currentData=w.rocketsDataStore),"Favorites"===this.selectedCategory&&(this.currentData=p.favoritesDataStore),null}}]),e}()),C=a(54),T=a.n(C),R=[{id:1,name:"Launches",endpoint:"./launches"},{id:2,name:"Rockets",endpoint:"./rockets"},{id:3,name:"Favorites",endpoint:"./favorites"}],B=function(){return Object(l.jsx)("nav",{className:T.a.category_wrapper,children:R.map((function(e){return Object(l.jsx)("div",{className:T.a.item,onClick:function(){return F.setCategory(e.name)},children:e.name},e.id)}))})},J=a(16),H=a.n(J),E=a(121),P=a(117),q=a(123),A=a(119),G=a(120),Z=Object(i.a)((function(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(""),i=Object(d.a)(r,2),c=i[0],o=i[1];Object(s.useEffect)((function(){n(""),o("")}),[]),F.getCurrentData();return Object(l.jsxs)(l.Fragment,{children:["Favorites"===F.selectedCategory&&Object(l.jsxs)("div",{className:H.a.search,children:[Object(l.jsx)(E.a,{id:"standard-basic",autoComplete:"off",label:"Search",value:a,onChange:function(e){return n(e.target.value)}}),Object(l.jsxs)(P.a,{className:H.a.formControl,children:[Object(l.jsx)(q.a,{id:"demo-simple-select-label",children:"Category"}),Object(l.jsxs)(A.a,{labelId:"select",id:"demo-simple-select",value:c,onChange:function(e){o(e.target.value)},children:[Object(l.jsx)(G.a,{value:"",children:"All"},"000"),R.map((function(e){return"Favorites"!==e.name&&Object(l.jsx)(G.a,{value:e.name,children:e.name},e.id)}))]})]})]}),F.currentData?F.currentData.filter((function(e){return!c||e.dataType===c})).filter((function(e){return function(e){if(!a)return!0;var t=new RegExp(a,"i");return e.name.match(t)}(e)})).map((function(e){var t;return Object(l.jsxs)("div",{className:H.a.item,onClick:function(){return F.setItemId(e.id)},children:[Object(l.jsx)("img",{className:H.a.img,src:"Launches"===e.dataType?e.links.patch.small:e.flickr_images[0],alt:e.name}),Object(l.jsxs)("div",{className:H.a.body,children:[Object(l.jsx)("h3",{className:H.a.title,children:e.name}),Object(l.jsxs)("div",{className:H.a.description,children:["Launches"===e.dataType?e.success?Object(l.jsx)("span",{className:H.a.success,children:"Success. "}):Object(l.jsx)("span",{className:H.a.failure,children:"Failure. "}):void 0,"Launches"===e.dataType?e.details:e.description]})]}),(null===(t=p.favoritesDataStore)||void 0===t?void 0:t.some((function(t){return t.id===e.id})))&&Object(l.jsx)("i",{className:"".concat(H.a.like," fas fa-heart")})]},e.id)})):Object(l.jsx)("p",{children:"Not found items"})]})})),K=a(12),M=a.n(K),U=function(e){var t=e.rocketsItem,a=t.name,s=t.height,n=t.diameter,r=t.mass,i=t.flickr_images;return Object(l.jsxs)("div",{className:M.a.rocketList__info,children:[Object(l.jsx)("div",{children:Object(l.jsx)("img",{className:M.a.rocketList__image,src:i[0],alt:a})}),Object(l.jsxs)("div",{className:M.a.rocketList__details,children:[Object(l.jsx)("h3",{children:a}),Object(l.jsxs)("div",{children:["Height: ",s.meters," meters"]}),Object(l.jsxs)("div",{children:["Diameter: ",n.meters," meters"]}),Object(l.jsxs)("div",{children:["Mass: ",r.kg," kg"]})]})]})},W=function(e){var t=e.launchesItem,a=Object(s.useState)(!1),n=Object(d.a)(a,2),r=n[0],i=n[1];Object(s.useEffect)((function(){w.getItem(t.rocket)}),[t.rocket]);var c=w.rocketItem;return"undefined"!==typeof t&&"undefined"!==typeof c?Object(l.jsxs)("div",{className:M.a.rocketList,children:[Object(l.jsxs)("div",{className:M.a.rocketList__item,children:[Object(l.jsx)("div",{children:Object(l.jsx)("strong",{children:"Rocket:"})}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("button",{className:M.a.rocketList__button,onClick:function(){return i(!r)},children:[c.name," ",r?"[\u2191]":"[\u2193]"]}),r&&Object(l.jsx)(U,{rocketsItem:c})]},c.id)]}),Object(l.jsxs)("div",{className:M.a.rocketList__item,children:[Object(l.jsx)("strong",{children:"Success:"}),t.success?Object(l.jsx)("span",{className:M.a.success,children:"Success"}):Object(l.jsx)("span",{className:M.a.failure,children:"Failure"})]}),Object(l.jsxs)("div",{className:M.a.rocketList__item,children:[Object(l.jsx)("strong",{children:"Flight number: "}),t.flight_number]}),Object(l.jsxs)("div",{className:M.a.rocketList__item,children:[Object(l.jsx)("strong",{children:"Webcast: "}),Object(l.jsx)("a",{href:t.links.webcast,target:"_blank",rel:"noreferrer",children:t.links.webcast})]}),Object(l.jsxs)("div",{className:M.a.rocketList__item,children:[Object(l.jsx)("strong",{children:"Wikipedia: "})," ",Object(l.jsx)("a",{href:t.links.wikipedia,target:"_blank",rel:"noreferrer",children:t.links.wikipedia})]})]}):Object(l.jsx)("div",{children:"Full description not found"})},z=function(e){var t,a=e.id,s=e.currentData,n=e.name,r=e.description,i=e.thumbnail,c=e.addToFavorite,o=e.onGoBack,u=e.deleteFromFavorites;return Object(l.jsxs)("div",{className:M.a.description,children:[Object(l.jsx)("img",{className:M.a.description__image,src:i,alt:n}),Object(l.jsxs)("div",{className:M.a.description__text,children:[Object(l.jsx)("h2",{className:M.a.description__title,children:n}),Object(l.jsx)("div",{className:M.a.description__about,children:r})]}),"Launches"===s.dataType?Object(l.jsx)(W,{launchesItem:s}):Object(l.jsx)(U,{rocketsItem:s}),Object(l.jsx)("button",{className:M.a.goBackButton,onClick:o,children:Object(l.jsx)("i",{className:"fas fa-arrow-alt-circle-left"})}),Object(l.jsx)("button",{className:M.a.likeButton,onClick:function(){var e;return(null===(e=p.favoritesDataStore)||void 0===e?void 0:e.some((function(e){return e.id===a})))?u(a):c(a)},children:Object(l.jsx)("i",{className:(null===(t=p.favoritesDataStore)||void 0===t?void 0:t.some((function(e){return e.id===a})))?"".concat(M.a.likeButtonHovered," fas fa-heart"):"far fa-heart"})})]},a)},X=a(118),V=a(50),Q=a.n(V),Y=Object(i.a)((function(){var e=Object(h.q)(N.launchesDataStore),t=Object(h.q)(w.rocketsDataStore),a=Object(h.q)(p.favoritesDataStore).sort((function(e,t){return t.favoriteDate-e.favoriteDate})),n=F.selectedCategory,r=F.selectedItemId,i=Object(s.useState)({}),c=Object(d.a)(i,2),o=c[0],u=c[1],j=Object(s.useState)(!1),f=Object(d.a)(j,2),_=f[0],b=f[1],m=function(){return"Launches"===n?r?e.filter((function(e){return e.id===r})):[e[0]]:"Rockets"===n?r?t.filter((function(e){return e.id===r})):[t[0]]:"Favorites"===n?r?a.filter((function(e){return e.id===r})):0!==a.length?[a[0]]:null:null},v=function(){u({display:"flex"}),b(!1)};return Object(l.jsxs)("main",{className:Q.a.main,children:[Object(l.jsx)(B,{}),Object(l.jsx)("div",{className:Q.a.list,onScroll:function(e){e.target.offsetHeight+e.target.scrollTop===e.target.scrollHeight&&N.loadLaunches()},style:o,children:0===N.launchesDataStore.length||0===w.rocketsDataStore.length?Object(l.jsx)(X.a,{}):Object(l.jsx)(Z,{})}),(window.innerWidth>750||_)&&Object(l.jsx)("div",{className:Q.a.description,children:m()?0===N.launchesDataStore.length||0===w.rocketsDataStore.length?Object(l.jsx)(X.a,{},0):m().map((function(e){return Object(l.jsx)(z,{id:e.id,currentData:e,name:e.name,description:"details"in e?e.details:e.description,thumbnail:"links"in e?e.links.patch.small:e.flickr_images[0],addToFavorite:"Launches"===e.dataType?N.addToFavorites:w.addToFavorites,deleteFromFavorites:p.deleteFromStore,onGoBack:v},e.id)})):Object(l.jsx)("div",{style:{width:"100%"},children:Object(l.jsx)("h1",{style:{textAlign:"center",marginTop:"100px"},children:"No items"})})})]})})),$=a(65),ee=a.n($),te=Object(i.a)((function(){return Object(l.jsxs)("div",{className:ee.a.app,children:[Object(l.jsx)(u,{}),Object(l.jsx)(Y,{})]})})),ae=document.getElementById("root");r.a.render(Object(l.jsx)(s.StrictMode,{children:Object(l.jsx)(te,{})}),ae)}},[[82,1,2]]]);
//# sourceMappingURL=main.5e6db642.chunk.js.map