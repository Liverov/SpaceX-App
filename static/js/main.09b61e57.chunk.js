(this["webpackJsonpspacex-app"]=this["webpackJsonpspacex-app"]||[]).push([[0],{12:function(e,t,s){e.exports={description:"styles_description__Ukzwf",description__image:"styles_description__image__3JJCi",description__text:"styles_description__text__EuenN",description__title:"styles_description__title__1JkKC",description__about:"styles_description__about__3e3Io",likeButton:"styles_likeButton__22pox",likeButtonHovered:"styles_likeButtonHovered__37fRi",rocketList:"styles_rocketList__32pEv",rocketList__item:"styles_rocketList__item__mHy7l",rocketList__info:"styles_rocketList__info__2I31j",rocketList__button:"styles_rocketList__button__1zvpu",rocketList__image:"styles_rocketList__image__2AjGo",rocketList__details:"styles_rocketList__details__jZ7yI",success:"styles_success__2Oerp",failure:"styles_failure__1xlyG",goBackButton:"styles_goBackButton__3ZcaN"}},15:function(e,t,s){e.exports={item:"styles_item__2gbNs",body:"styles_body__Mxtxv",title:"styles_title___w0Jz",description:"styles_description__3ZnSA",like:"styles_like__1UNUe",success:"styles_success__2xpbR",failure:"styles_failure__3xViQ",search:"styles_search__2hCyc",formControl:"styles_formControl__1Se8K"}},48:function(e,t,s){e.exports={main:"styles_main__3eJMh",list:"styles_list__2H6DH",description:"styles_description__300X1",search_wrapper:"styles_search_wrapper__39GDk",search_button:"styles_search_button__1ycr6",search_input:"styles_search_input__1TpNR",search_select:"styles_search_select__KK2w3"}},51:function(e,t,s){e.exports={header:"styles_header__D7Cd9",headerTitle:"styles_headerTitle__22Tb8"}},52:function(e,t,s){e.exports={category_wrapper:"styles_category_wrapper__2v5P8",item:"styles_item__YLZs6",like:"styles_like__5aUmW"}},62:function(e,t,s){e.exports={app:"styles_app__1VXZu"}},79:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s(10),r=s.n(c),n=s(51),i=s.n(n),o=s(2),l=function(){return Object(o.jsx)("header",{className:i.a.header,children:Object(o.jsxs)("h1",{className:i.a.headerTitle,children:[Object(o.jsx)("i",{className:"fas fa-space-shuttle"}),"SpaceX App"]})})},u=s(23),d=s(17),h=s(19),_=s.n(h),j=s(29),m=s(30),f=s(5),b=s(28),p=s(47),k=function(){function e(){Object(j.a)(this,e)}return Object(m.a)(e,[{key:"_getData",value:function(){var e=Object(p.a)(_.a.mark((function e(t){var s,a,c,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.path,a=t.data,c=t.config,e.prev=1,e.next=4,fetch("".concat("https://api.spacexdata.com/v4/").concat(s),Object(b.a)(Object(b.a)({},c),{},{body:JSON.stringify(a),headers:{"Content-type":"application/json"}}));case 4:return r=e.sent,e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(1),console.error("getData Error: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchRockets",value:function(){var e=Object(p.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getData({path:"rockets/query",data:{options:{limit:4}},config:{method:"POST"}});case 2:return t=e.sent,e.abrupt("return",this._transformRocketsData(t.docs));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchLaunches",value:function(){var e=Object(p.a)(_.a.mark((function e(t){var s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getData({path:"launches/query",data:{options:{limit:15,page:t,pagination:!0}},config:{method:"POST"}});case 2:return s=e.sent,e.abrupt("return",this._transformLaunchesData(s.docs));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_transformLaunchesData",value:function(e){return e.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{dataType:"Launches",favoriteDate:0})}))}},{key:"_transformRocketsData",value:function(e){return e.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{dataType:"Rockets",favoriteDate:0})}))}}]),e}(),g=new(function(){function e(){Object(j.a)(this,e),this.favoritesDataStore=this.loadFromLocalStorage(),Object(f.o)(this,{favoritesDataStore:f.p,addToStore:f.f.bound,deleteFromStore:f.f.bound,loadFromLocalStorage:f.f.bound,updateLocalStorage:f.f.bound})}return Object(m.a)(e,[{key:"addToStore",value:function(e){e.favoriteDate=Date.now(),this.favoritesDataStore.push(e),this.updateLocalStorage()}},{key:"deleteFromStore",value:function(e){var t=this.favoritesDataStore.findIndex((function(t){return t.id===e}));this.favoritesDataStore.splice(t,1),this.updateLocalStorage()}},{key:"loadFromLocalStorage",value:function(){var e=localStorage.getItem("favorites");return e?JSON.parse(e):[]}},{key:"updateLocalStorage",value:function(){localStorage.setItem("favorites",JSON.stringify(this.favoritesDataStore))}}]),e}()),O=s(8),v=O.a.object({name:O.a.string(),id:O.a.string(),dataType:O.a.literal("Launches"),success:O.a.boolean(),flight_number:O.a.number(),links:O.a.object({webcast:O.a.string(),wikipedia:O.a.string(),patch:O.a.object({small:O.a.string()})}),rocket:O.a.string(),details:O.a.string().nullable(),favoriteDate:O.a.number()}),x=O.a.array(v),y=O.a.object({name:O.a.string(),id:O.a.string(),flickr_images:O.a.array(O.a.string()),dataType:O.a.literal("Rockets"),description:O.a.string(),height:O.a.object({meters:O.a.number()}),diameter:O.a.object({meters:O.a.number()}),mass:O.a.object({kg:O.a.number()}),favoriteDate:O.a.number()}),L=O.a.array(y),N=new(function(){function e(){Object(j.a)(this,e),this.isLoading=!0,this.selectedCategory="Launches",this.selectedItemId=null,this.launchesItems=[],this.rocketsItems=[],this.rocketItem=[],Object(f.o)(this,{isLoading:f.p,launchesItems:f.p,rocketsItems:f.p,rocketItem:f.p,selectedCategory:f.p,selectedItemId:f.p,setCategory:f.f.bound,setItemId:f.f.bound,getRocketById:f.f,getCurrentData:f.g,getCurrentItem:f.g,fetchData:f.j.bound}),console.log("Start constructor main store")}return Object(m.a)(e,[{key:"setCategory",value:function(e){this.selectedCategory=e,this.selectedItemId=null}},{key:"setItemId",value:function(e){this.selectedItemId=e}},{key:"getCurrentData",get:function(){return"Rockets"===this.selectedCategory?this.rocketsItems:"Favorites"===this.selectedCategory?g.favoritesDataStore?g.favoritesDataStore.slice().sort((function(e,t){return t.favoriteDate-e.favoriteDate})):[]:this.launchesItems}},{key:"getCurrentItem",get:function(){var e=this;return this.getCurrentData.find((function(t){return t.id===e.selectedItemId}))||this.getCurrentData[0]}},{key:"getRocketById",value:function(e){return this.rocketsItems.find((function(t){return t.id===e}))}},{key:"fetchData",value:_.a.mark((function e(t){var s,a=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=new k,this.isLoading=!0,"Launches"!==t){e.next=5;break}return e.next=5,s.fetchLaunches(1).then((function(e){a.launchesItems=x.parse(e),a.isLoading=!1}));case 5:if("Rockets"!==t){e.next=8;break}return e.next=8,s.fetchRockets().then((function(e){a.rocketsItems=L.parse(e),a.isLoading=!1}));case 8:case"end":return e.stop()}}),e,this)}))}]),e}()),I=s(52),S=s.n(I),D=[{id:1,name:"Launches",endpoint:"./launches"},{id:2,name:"Rockets",endpoint:"./rockets"},{id:3,name:"Favorites",endpoint:"./favorites"}],C=function(){return Object(o.jsx)("nav",{className:S.a.category_wrapper,children:D.map((function(e){return Object(o.jsx)("div",{className:S.a.item,onClick:function(){return N.setCategory(e.name)},children:e.name},e.id)}))})},w=s(15),T=s.n(w),B=s(118),R=s(114),F=s(120),J=s(116),H=s(117),E=Object(d.a)((function(){Object(a.useEffect)((function(){c(""),l("")}),[]);var e=Object(a.useState)(""),t=Object(u.a)(e,2),s=t[0],c=t[1],r=Object(a.useState)(""),n=Object(u.a)(r,2),i=n[0],l=n[1],d=N.getCurrentData;return Object(o.jsxs)(o.Fragment,{children:["Favorites"===N.selectedCategory&&Object(o.jsxs)("div",{className:T.a.search,children:[Object(o.jsx)(B.a,{id:"standard-basic",autoComplete:"off",label:"Search",value:s,onChange:function(e){return c(e.target.value)}}),Object(o.jsxs)(R.a,{className:T.a.formControl,children:[Object(o.jsx)(F.a,{id:"demo-simple-select-label",children:"Category"}),Object(o.jsxs)(J.a,{labelId:"select",id:"demo-simple-select",value:i,onChange:function(e){l(e.target.value)},children:[Object(o.jsx)(H.a,{value:"",children:"All"},"000"),D.map((function(e){return"Favorites"!==e.name&&Object(o.jsx)(H.a,{value:e.name,children:e.name},e.id)}))]})]})]}),d?d.filter((function(e){return!i||e.dataType===i})).filter((function(e){return function(e){if(!s)return!0;var t=new RegExp(s,"i");return e.name.match(t)}(e)})).map((function(e){var t;return Object(o.jsxs)("div",{className:T.a.item,onClick:function(){return N.setItemId(e.id)},children:[Object(o.jsx)("img",{className:T.a.img,src:"Launches"===e.dataType?e.links.patch.small:e.flickr_images[0],alt:e.name}),Object(o.jsxs)("div",{className:T.a.body,children:[Object(o.jsx)("h3",{className:T.a.title,children:e.name}),Object(o.jsxs)("div",{className:T.a.description,children:["Launches"===e.dataType?e.success?Object(o.jsx)("span",{className:T.a.success,children:"Success. "}):Object(o.jsx)("span",{className:T.a.failure,children:"Failure. "}):void 0,"Launches"===e.dataType?e.details:e.description]})]}),(null===(t=g.favoritesDataStore)||void 0===t?void 0:t.some((function(t){return t.id===e.id})))&&Object(o.jsx)("i",{className:"".concat(T.a.like," fas fa-heart")})]},e.id)})):Object(o.jsx)("p",{children:"Not found items"})]})})),A=s(12),G=s.n(A),Z=function(e){var t=e.rocketsItem,s=t.name,a=t.height,c=t.diameter,r=t.mass,n=t.flickr_images;return Object(o.jsxs)("div",{className:G.a.rocketList__info,children:[Object(o.jsx)("div",{children:Object(o.jsx)("img",{className:G.a.rocketList__image,src:n[0],alt:s})}),Object(o.jsxs)("div",{className:G.a.rocketList__details,children:[Object(o.jsx)("h3",{children:s}),Object(o.jsxs)("div",{children:["Height: ",a.meters," meters"]}),Object(o.jsxs)("div",{children:["Diameter: ",c.meters," meters"]}),Object(o.jsxs)("div",{children:["Mass: ",r.kg," kg"]})]})]})},K=Object(d.a)((function(e){var t=e.launchesItem,s=Object(a.useState)(!1),c=Object(u.a)(s,2),r=c[0],n=c[1],i=N.getRocketById(t.rocket);return"undefined"!==typeof t&&"undefined"!==typeof i?Object(o.jsxs)("div",{className:G.a.rocketList,children:[Object(o.jsxs)("div",{className:G.a.rocketList__item,children:[Object(o.jsx)("div",{children:Object(o.jsx)("strong",{children:"Rocket:"})}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("button",{className:G.a.rocketList__button,onClick:function(){return n(!r)},children:[i.name," ",r?"[\u2191]":"[\u2193]"]}),r&&Object(o.jsx)(Z,{rocketsItem:i})]},i.id)]}),Object(o.jsxs)("div",{className:G.a.rocketList__item,children:[Object(o.jsx)("strong",{children:"Success:"}),t.success?Object(o.jsx)("span",{className:G.a.success,children:"Success"}):Object(o.jsx)("span",{className:G.a.failure,children:"Failure"})]}),Object(o.jsxs)("div",{className:G.a.rocketList__item,children:[Object(o.jsx)("strong",{children:"Flight number: "}),t.flight_number]}),Object(o.jsxs)("div",{className:G.a.rocketList__item,children:[Object(o.jsx)("strong",{children:"Webcast: "}),Object(o.jsx)("a",{href:t.links.webcast,target:"_blank",rel:"noreferrer",children:t.links.webcast})]}),Object(o.jsxs)("div",{className:G.a.rocketList__item,children:[Object(o.jsx)("strong",{children:"Wikipedia: "})," ",Object(o.jsx)("a",{href:t.links.wikipedia,target:"_blank",rel:"noreferrer",children:t.links.wikipedia})]})]}):Object(o.jsx)("div",{children:"Full description not found"})})),M=Object(d.a)((function(e){var t,s=e.onGoBack,a=N.getCurrentItem;return a?Object(o.jsxs)("div",{className:G.a.description,children:[Object(o.jsx)("img",{className:G.a.description__image,src:"links"in a?a.links.patch.small:a.flickr_images[0],alt:a.name}),Object(o.jsxs)("div",{className:G.a.description__text,children:[Object(o.jsx)("h2",{className:G.a.description__title,children:a.name}),Object(o.jsx)("div",{className:G.a.description__about,children:"details"in a?a.details:a.description})]}),"Launches"===a.dataType?Object(o.jsx)(K,{launchesItem:a}):Object(o.jsx)(Z,{rocketsItem:a}),Object(o.jsx)("button",{className:G.a.goBackButton,onClick:s,children:Object(o.jsx)("i",{className:"fas fa-arrow-alt-circle-left"})}),Object(o.jsx)("button",{className:G.a.likeButton,onClick:function(){var e;return(null===(e=g.favoritesDataStore)||void 0===e?void 0:e.some((function(e){return e.id===a.id})))?g.deleteFromStore(a.id):g.addToStore(a)},children:Object(o.jsx)("i",{className:(null===(t=g.favoritesDataStore)||void 0===t?void 0:t.some((function(e){return e.id===a.id})))?"".concat(G.a.likeButtonHovered," fas fa-heart"):"far fa-heart"})})]},a.id):Object(o.jsx)("div",{style:{width:"100%"},children:Object(o.jsx)("h1",{style:{textAlign:"center",marginTop:"100px"},children:"No items"})})})),U=s(48),W=s.n(U),z=Object(d.a)((function(){var e=Object(a.useState)({}),t=Object(u.a)(e,2),s=t[0],c=t[1],r=Object(a.useState)(!1),n=Object(u.a)(r,2),i=n[0],l=n[1];return Object(o.jsxs)("main",{className:W.a.main,children:[Object(o.jsx)(C,{}),Object(o.jsx)("div",{className:W.a.list,onScroll:function(e){e.target.offsetHeight+e.target.scrollTop===e.target.scrollHeight&&(console.log("End height"),N.fetchData("Launches"))},style:s,children:Object(o.jsx)(E,{})}),(window.innerWidth>750||i)&&Object(o.jsx)("div",{className:W.a.description,children:Object(o.jsx)(M,{onGoBack:function(){c({display:"flex"}),l(!1)}})})]})})),P=s(62),X=s.n(P),q=s(115),V=Object(d.a)((function(){return Object(a.useEffect)((function(){N.fetchData("Launches"),N.fetchData("Rockets")}),[]),Object(o.jsxs)("div",{className:X.a.app,children:[Object(o.jsx)(l,{}),0===N.launchesItems.length||0===N.rocketsItems.length?Object(o.jsx)(q.a,{}):Object(o.jsx)(z,{})]})})),Q=document.getElementById("root");r.a.render(Object(o.jsx)(a.StrictMode,{children:Object(o.jsx)(V,{})}),Q)}},[[79,1,2]]]);
//# sourceMappingURL=main.09b61e57.chunk.js.map